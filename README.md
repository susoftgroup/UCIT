# F-CIT
**Flexible Combinatorial Interaction Testing**

We described the **F-CIT** tool in the paper **Flexible Combinatorial Interaction Testing (F-CIT)** which aims to improve the flexibility of combinatorial interaction testing (CIT) approaches.

**How to build**
* Currently we are not releasing the source of the core implementation itself. However, the core is released as shared library (ucit.so).

**How to run**
* Create a desired directory, place the following in this directory at same level `ucit.so`, `main.pyc` and Python solver scripts (`solverNameOfTheStudy.py`). Then, execute the main.pyc with Python 2.7 (recommended). Most likely, any Python version above v2.6 will work fine, however we have only tested with v2.7.15.

The tool has the following commandline parameters: 
 * -i : Path to input file. 
 * -m : Methods (optional). Currently 2 methods are available. Specify the selected method as integer 
 
      1: cover_and_generate (default)
      
      2: generate_and_cover 
      
 * -s : Name of the solver file without py extension (this is optional; default is Sugar CSP solver, i.e., `solverOrderBased.py` in this case). This file must be in the same directory with ucit.so and main.pyc files.

Example run:

      $ python main.pyc -m 1 -s solverUsageBased -i ./sampleInputFiles/usageBasedStudy.inFile

We have tested the tool on both Ubuntu 17.10 and 18.04. However, it should be fine in any Debian based linux distrubition machine. 

**Development**

Build the tool by typing 
```bash
docker build --tag ucit .
```

Run the tool by typing 
```bash 
docker run --rm -i -t ucit -m 1 -s solverUsageBased -i ./sampleInputFiles/usageBasedStudy.inFile
```

**Input File Format**

We've provided some sample input files. While reading this README, please also check them as well. 

Here are the rules about preparing input files.

* Number of entities must be given in the first line of the file in the exact same format with samples, e.g., `# NUMBER_OF_ENTITIES:10`
* System constraints must be given between the `# SYSTEM_CONSTRAINTS_BEGIN` and `# SYSTEM_CONSTRAINTS_END` tags. No entities can be given before closing tag of system constraints. 
* Each entity must be given between `# ENTITY_BEGIN` and `# ENTITY_END` tags
* Each entity should have a unique entity id with the tag `# ENTITY_ID`, otherwise the result may produce incorrect results.
* Any line between opening and closing tag of an entity which starts without "#" symbol is considered as constraint of the corresponding entity.
* Comments can be made anywhere (except first line) in the input file beginning with "#" character in newline.


**How to integrate an external solver to F-CIT tool**

You need to implement two functions given in the paper; `_solve()` and `_satisfiable()`. The `_solve()` function receives the *system constraints* and *entity constraints* as arguments and return the output of the solver as *constraints*. The output of the function has to be a Python list. 

We provide a template Python file (tempSolver.py) which documents the prerequisites. Note that, we've already provided 3 different solver Python scripts namely: `solverStructureBased.py`, `solverOrderBased.py`, and `solverUsageBased.py`.

If you are going to use an external solver make sure that the output of the solver is randomized. In other words, the output of the `_satisfiable()` function can change for each execution on the same problem, if multiple solutions exist. Otherwise, the size of the F-CIT object generated by the tool, might be larger than usual.


**Dependencies**

The tool itself does not depend on anything, usual Python built-in functions should be enough to execute the tool. However,
two of the solvers; namely,`solverStructureBased.py`, and `solverOrderBased.py`, need 3rd party python modules or tools. For example, `solverStructureBased.py` requires SATisPy and, `solverOrderBased.py` requires Sugar as CSP solver, which are all freely available.

Note: This is the first release of the tool (v0.1), please report any shortcomings, suggestions and queries about the tool at *hanefimercan@sabanciuniv.edu*
